add_custom_target(idlcompile ${CMAKE_BINARY_DIR}/idlcompile.bat
  WORKING_DIRECTORY ${CMAKE_BINARY_DIR}
)


add_dependencies(idlcompile ${PROJECT_NAME})


add_test(NAME ${PROJECT_NAME}_test COMMAND ${PYTHON_EXECUTABLE} ${CMAKE_CURRENT_SOURCE_DIR}/${PROJECT_NAME}Test.py -o "logger.enable:NO" WORKING_DIRECTORY ${CMAKE_BINARY_DIR})
string(REPLACE ";" "\\;" PYTHONPATH "$ENV{PYTHONPATH}") 
set_tests_properties(${PROJECT_NAME}_test PROPERTIES ENVIRONMENT PYTHONPATH="${CMAKE_SOURCE_DIR}\;${PYTHONPATH}")
message(STATUS ${CMAKE_SOURCE_DIR}\;${PYTHONPATH})